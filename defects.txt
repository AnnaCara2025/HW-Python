БАГ-РЕПОРТ: StringUtils Class
Дата: [03.02.2026]
Автор: [Anna Cara]
Статус: Открыт
Приоритет: Высокий

1. Дефект 1: Метод contains()
   - Описание: Метод некорректно обрабатывает пустую строку в качестве искомого символа
   - Шаги для воспроизведения:
     1. Вызвать string_utils.contains("любая строка", "")
     2. Наблюдать результат
   - Ожидаемый результат: False (пустая строка не должна считаться содержащейся)
   - Фактический результат: True
   - Причина: Использование string.index("") всегда возвращает 0, что интерпретируется как успех
   - Файл: string_utils.py, строки 25-34
   - Рекомендация: Добавить проверку if not symbol: return False

2. Дефект 2: Метод delete_symbol() с пустой подстрокой
   - Описание: При передаче пустой подстроки метод удаляет всю строку
   - Шаги для воспроизведения:
     1. Вызвать string_utils.delete_symbol("test", "")
     2. Наблюдать результат
   - Ожидаемый результат: "test" (строка без изменений)
   - Фактический результат: "" (пустая строка)
   - Причина: Метод contains() возвращает True для пустой подстроки, что приводит к вызову replace("", "")
   - Файл: string_utils.py, строки 36-44
   - Рекомендация: Добавить проверку if not symbol: return string

3. Дефект 3: Метод trim() не удаляет все пробельные символы
   - Описание: Метод удаляет только обычные пробелы (U+0020), но не другие пробельные символы
   - Шаги для воспроизведения:
     1. Вызвать string_utils.trim("\t  test")
     2. Наблюдать результат
   - Ожидаемый результат: "test" (все ведущие пробельные символы удалены)
   - Фактический результат: "\t  test" (табы и пробелы остаются)
   - Причина: Логика while string.startswith(whitespace) проверяет только один пробел
   - Файл: string_utils.py, строки 14-18
   - Рекомендация: Использовать string.lstrip() или расширить логику для удаления всех пробельных символов

4. Дефект 4: Метод contains() использует исключения для контроля потока
   - Описание: Использование try/except для нормальной логики выполнения - антипаттерн
   - Шаги: Любой вызов метода contains()
   - Ожидаемый результат: Чистый код без избыточных исключений
   - Фактический результат: Исключения используются для контроля нормального потока
   - Причина: Разработчик использовал string.index() вместо оператора 'in'
   - Файл: string_utils.py, строки 25-34
   - Приоритет: Низкий (влияет на читаемость и производительность)
   - Рекомендация: Заменить на return symbol in string


ОБЩИЙ АНАЛИЗ:
Критические проблемы:
1. Метод delete_symbol() с пустой подстрокой - может привести к потере данных
2. Метод contains() с пустой подстрокой - логическая ошибка в условии

Серьезные проблемы:
3. Метод trim() ограниченной функциональности - не соответствует ожиданиям

Малозначительные проблемы:
4. Антипаттерн в методе contains()